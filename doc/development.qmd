---
title: "Development notes"
---


## Install from git

To install `pylifemap` from git:

```sh
# With pip
pip install git+https://github.com/Lifemap-ToL/pylifemap.git
# Add to a project with uv
uv add git+https://github.com/Lifemap-ToL/pylifemap.git
```

## Install the development version (from source)

If you want to install `pylifemap` from source, you'll have to follow these steps:

- Install [node.js](https://nodejs.org/en)
- Install [uv](https://docs.astral.sh/uv/)
- Clone the [pylifemap](https://github.com/Lifemap-ToL/pylifemap) repository
- Install Python dependencies with : `uv sync`
- Install JavaScript dependencies with : `npm install --workspaces --include-root-workspace`
- Bundle JavaScript and CSS code with `npm run bundle`


## Widget JavaScript modification and bundling

Each time the widget JavaScript or CSS code is modified in the `src/js/` or `packages/lifemapjs/` directories, it must be bundled with one of the following commands in `pylifemap`:

```sh
# Bundle
npm run bundle
# Bundle and watch for code change
npm run dev
```

The result is put into `src/pylifemap/static`.

## Tests

Python tests are in the `tests` directory and can be run with:

```sh
npm run test
```

## Documentation

The package documentation is in `doc/`. It is managed by [quarto](https://quarto.org) and [quartodoc](https://machow.github.io/quartodoc/).

To build it in HTML format in `doc/_site/`you can run:

```sh
npm run doc
```

## Docker image

To build the docker image manually, run the following at the root of the repisotory:

```sh
docker build . -t pylifemap
```


## Maintenance notes

### Releases


- Change version in `NEWS.md` and `pyproject.toml`
- Cleanup the previous builds in `dist/`
- Bundle and minify JS and CSS and build package with `npm run build`
- Release the Python package with `uv publish` in `pylifemap`
- Tag the version in git
- Create a release on Github
- Bump to dev version in `pyproject.toml` and `NEWS.md`
